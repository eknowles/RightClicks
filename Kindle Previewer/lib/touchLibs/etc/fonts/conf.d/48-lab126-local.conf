<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<!-- /etc/fonts/conf.d/48-lab126-local.conf file for local customizations -->
<!-- This file used to be local.conf, but we have customized rules to map our
     fonts' families to generic, and they need to be run before 49-sansserif.conf.
     By renaming to 48-*, our local customization will be run first.
-->
<fontconfig>
<!-- lab126 -->
<!-- Additional font directory list -->
    <dir>/usr/java/lib/fonts</dir>

<!-- Set Code2000's lang property to the empty string. Fontconfig matching
     is done in the following priority order - foundry, charset, family,
     lang, spacing, pixelsize, style, slant, weight, antialias, rasterizer
     and outline. Thus setting Code2000's lang to the empty string means
     that it will never match on lang, which achieve the desire behavior that
     Code2000 is used only when it is the only font that match a given charset.
     This addresses CEL-9318.
-->
    <match target="scan">
        <test name="family" compare="eq">
            <string>Code2000</string>
        </test>
        <edit name="lang" mode="assign">
            <string></string>
        </edit>
    </match>

<!-- Combine the Caecilia font to use just one family name and assign
     the correct attribute values for each font. This follows the way all other
     fonts have in their metadata. Note that we also have a condensed version of
     the font that is handled separately
 -->

<!-- 
  Okay, nobody understands why the 'blank' element below fixes U+F819 (JTWO-4354)
  but it does, so maybe don't mess with it?
-->
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 65 Medium</string>
        </test>
        <edit name="family" mode="assign">
            <string>Caecilia Regular</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Medium</string>
        </edit>
        <blank>
           <int>63513</int>
        </blank>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 66 Medium Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Caecilia Regular</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 75 Bold</string>
        </test>
        <edit name="family" mode="assign">
            <string>Caecilia Regular</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 76 Bold Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Caecilia Regular</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <!-- now the condensed fonts -->
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 67 Kindle Cond Medium</string>
        </test>
        <edit name="family" mode="assign">
            <string>condensed</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Medium</string>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 68 Kindle Cond Medium Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>condensed</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 77 Kindle Cond Bold</string>
        </test>
        <edit name="family" mode="assign">
            <string>condensed</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 78 Kindle Cond Bold Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>condensed</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
<!-- Combine the Helvetica Neue fonts to use just one family name and assign
     the correct attribute values for each font. This follows the way all other
     fonts have in their metadata.
 -->
    <match target="scan">
        <test name="family" compare="eq">
            <string>Helvetica Neue LT 65 Kindle Medium</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue LT</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Medium</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Helvetica Neue LT 66 Kindle Medium Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue LT</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Helvetica Neue LT 75 Kindle Bold</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue LT</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Helvetica Neue LT 76 Kindle Bold Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue LT</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>


<!-- newer fonts -->
        <match target="scan">
        <test name="family" compare="eq">
            <string>Baskerville Regular</string>
        </test>
        <edit name="family" mode="assign">
            <string>Baskerville</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Medium</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Baskerville Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Baskerville</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Baskerville Bold</string>
        </test>
        <edit name="family" mode="assign">
            <string>Baskerville</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Baskerville Bold Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Baskerville</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>

    <match target="scan">
        <test name="family" compare="eq">
            <string>Palatino Regular</string>
        </test>
        <edit name="family" mode="assign">
            <string>Palatino</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Medium</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Palatino Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Palatino</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Palatino Bold</string>
        </test>
        <edit name="family" mode="assign">
            <string>Palatino</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Palatino Bold Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Palatino</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>


    <match target="scan">
        <test name="family" compare="eq">
            <string>Futura Regular</string>
        </test>
        <edit name="family" mode="assign">
            <string>Futura</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Medium</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Futura Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Futura</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Futura Bold</string>
        </test>
        <edit name="family" mode="assign">
            <string>Futura</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Futura Bold Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Futura</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Futura Medium</string>
        </test>
        <edit name="family" mode="assign">
            <string>Futura</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Medium</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Futura Demibold</string>
        </test>
        <edit name="family" mode="assign">
            <string>Futura</string>
        </edit>
        <edit name="style" mode="assign">
            <string>demibold</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Futura</string>
        </test>
        <test name="style" compare="eq">
            <string>Regular</string>
        </test>
        <edit name="style" mode="assign">
            <string>Medium</string>
        </edit>
    </match>

<!-- Japanese fonts -->
    <match target="scan">
       <test name="family" compare="eq">
           <string>TBMincho Bold</string>
       </test>
       <edit name="family" mode="assign">
           <string>TBMincho</string>
       </edit>
       <edit name="style" mode="assign">
           <string>Bold</string>
       </edit>
    </match>
    <match target="scan">
       <test name="family" compare="eq">
           <string>TBMincho Medium</string>
       </test>
       <edit name="family" mode="assign">
           <string>TBMincho</string>
       </edit>
       <edit name="style" mode="assign">
           <string>Regular</string>
       </edit>
    </match>
    <match target="scan">
       <test name="family" compare="eq">
           <string>TBGothic Bold</string>
       </test>
       <edit name="family" mode="assign">
           <string>TBGothic</string>
       </edit>
       <edit name="style" mode="assign">
           <string>Bold</string>
       </edit>
    </match>
    <match target="scan">
       <test name="family" compare="eq">
           <string>TBGothic Medium</string>
       </test>
       <edit name="family" mode="assign">
           <string>TBGothic</string>
       </edit>
       <edit name="style" mode="assign">
           <string>Regular</string>
       </edit>
    </match>


<!-- Korean fonts -->
    <match target="scan">
       <test name="family" compare="eq">
           <string>HyGothic Bold</string>
       </test>
       <edit name="family" mode="assign">
           <string>HYGothic</string>
       </edit>
       <edit name="style" mode="assign">
           <string>Bold</string>
       </edit>
    </match>
    <match target="scan">
       <test name="family" compare="eq">
           <string>HyGothic Medium</string>
       </test>
       <edit name="family" mode="assign">
           <string>HYGothic</string>
       </edit>
       <edit name="style" mode="assign">
           <string>Regular</string>
       </edit>
    </match>

    <match target="scan">
       <test name="family" compare="eq">
           <string>HyMyeongJo Medium</string>
       </test>
       <edit name="family" mode="assign">
           <string>HYMyeongJo</string>
       </edit>
       <edit name="style" mode="assign">
           <string>Regular</string>
       </edit>
    </match>
    <match target="scan">
       <test name="family" compare="eq">
           <string>HyMyeongJo Bold</string>
       </test>
       <edit name="family" mode="assign">
           <string>HYMyeongJo</string>
       </edit>
       <edit name="style" mode="assign">
           <string>Bold</string>
       </edit>
    </match>



<!-- Fix Monospaced KindleBlackBoxC Bold and Bold-Italic fonts's weight -->
    <match target="scan">
        <test name="family" compare="eq">
            <string>KindleBlackboxC</string>
        </test>
        <test name="style" compare="eq">
            <string>Bold</string>
        </test>
        <edit name="weight" mode="assign">
            <const>bold</const>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>KindleBlackboxC</string>
        </test>
        <test name="style" compare="eq">
            <string>BoldItalic</string>
        </test>
        <edit name="weight" mode="assign">
            <const>bold</const>
        </edit>
    </match>

    <!-- provide the alias 'monospaced' for 'monospace' -->
    <match target="pattern">
	    <test qual="any" name="family">
		    <string>monospaced</string>
	    </test>
	    <edit name="family" mode="assign">
		    <string>monospace</string>
	    </edit>
    </match>


<!-- Generic identification, map family->generic -->
    <alias>
        <family>Palatino</family>
        <family>Baskerville</family>
        <family>condensed</family>
        <family>Caecilia Regular</family>
        <family>Kindle Symbol</family>
        <family>TBMincho</family>
        <family>HYMyeongJo</family>
        <family>Song S</family>
        <family>Song T</family>
        <family>Code2000</family>
        <default>
            <family>serif</family>
        </default>
    </alias>
    <alias>
        <family>Futura</family>
        <family>dialog</family>
        <family>Helvetica Neue LT</family>
        <family>Kindle Symbol</family>
        <family>TBGothic</family>
        <family>HYGothic</family>
        <family>MYing Hei S</family>
        <family>MYing Hei T</family>
        <family>Code2000</family>    
        <default>
            <family>sans-serif</family>
        </default>
    </alias>    
    <alias>
        <family>KindleBlackboxC</family>
        <family>Kindle MonospaceSymbol</family>
        <family>TBMincho</family>
        <family>HYMyeongJo</family>
        <family>Song S</family>
        <family>Song T</family>
        <family>Code2000</family>    
        <family>monospace</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>

<!--  If the font still has no generic name, add sans-serif -->
    <match target="pattern">
        <test qual="all" name="family" compare="not_eq">
            <string>sans-serif</string>
        </test>
        <test qual="all" name="family" compare="not_eq">
            <string>serif</string>
        </test>
        <test qual="all" name="family" compare="not_eq">
            <string>monospace</string>
        </test>
        <edit name="family" mode="append_last">
            <string>sans-serif</string>
        </edit>
    </match>

<!-- Generic aliases, map generic->family -->

    <alias>
	    <family>condensed</family>
	    <prefer>
                    <family>condensed</family>
                    <family>Kindle Symbol</family>
                    <family>TBMincho</family>
                    <family>HYMyeongJo</family>
                    <family>Song S</family>
                    <family>Song T</family>
                    <family>Code2000</family>
	    </prefer>
    </alias>

    <alias>
        <family>serif</family>
        <prefer>
            <family>Caecilia Regular</family>
            <family>Kindle Symbol</family>
            <family>TBMincho</family>
            <family>HYMyeongJo</family>
            <family>Song S</family>
            <family>Song T</family>
            <family>Code2000</family>
        </prefer>
    </alias>

    <!-- for various reasons, Sun uses the pango properties file
         to force (Java logical font) serif to use the name 
         'Caecilia Regular' rather than using fontconfig's 'serif'. 
         So map the fallbacks onto that font alias too.
    -->
    <alias>
        <family>Caecilia Regular</family>
        <prefer>
            <family>Caecilia Regular</family>
            <family>Kindle Symbol</family>
            <family>TBMincho</family>
            <family>HYMyeongJo</family>
            <family>Song S</family>
            <family>Song T</family>
            <family>Code2000</family>
        </prefer>
    </alias>

    <alias>
        <family>Baskerville</family>
        <prefer>
	    <family>Baskerville</family>
            <family>Caecilia Regular</family>
            <family>Kindle Symbol</family>
            <family>TBMincho</family>
            <family>HYMyeongJo</family>
            <family>Song S</family>
            <family>Song T</family>
            <family>Code2000</family>
        </prefer>
    </alias>

    <alias>
        <family>Palatino</family>
        <prefer>
	    <family>Palatino</family>
            <family>Caecilia Regular</family>
            <family>Kindle Symbol</family>
            <family>TBMincho</family>
            <family>HYMyeongJo</family>
            <family>Song S</family>
            <family>Song T</family>
            <family>Code2000</family>
        </prefer>
    </alias>


    <alias>
        <family>sans-serif</family>
        <prefer>
            <family>Helvetica Neue LT</family>
            <family>Kindle Symbol</family>
            <family>TBGothic</family>
            <family>HYGothic</family>
            <family>MYing Hei S</family>
            <family>MYing Hei T</family>
            <family>Code2000</family>    
        </prefer>
    </alias>

    <alias>
        <family>Futura</family>
        <prefer>
            <family>Futura</family>
            <family>Helvetica Neue LT</family>
            <family>Kindle Symbol</family>
            <family>TBGothic</family>
            <family>HYGothic</family>
            <family>MYing Hei S</family>
            <family>MYing Hei T</family>
            <family>Code2000</family>    
        </prefer>
    </alias>

    <alias>
        <family>monospace</family>
        <prefer>
            <family>KindleBlackboxC</family>
            <family>Kindle MonospaceSymbol</family>
            <family>TBMincho</family>
            <family>HYMyeongJo</family>
            <family>Song S</family>
            <family>Song T</family>
            <family>Code2000</family>
        </prefer>
    </alias>
    <alias>
        <family>dialog</family>
        <prefer>
            <family>Futura</family>
            <family>Futura DemiBold</family>
        </prefer>
    </alias>

    <match>
	    <test name="family">
		    <string>dialog</string>
	    </test>
	    <test name="style">
		    <string>bold</string>
	    </test>
	    <edit name="style" mode="assign">
		    <string>demibold</string>
	    </edit>
    </match>
    <match>
	    <test name="family">
		    <string>dialog</string>
	    </test>
	    <test name="weight" compare="more">
		    <int>180</int>
	    </test>
	    <edit name="weight" mode="assign">
		    <int>180</int>
	    </edit>
    </match>
    <!-- add korean specific font preference -->
    <match>
	    <test name="lang">
		    <string>ko</string>
	    </test>
	    <test name="family">
		    <string>sans-serif</string>
	    </test>
	    <edit name="family" mode="prepend">
		    <string>HYGothic</string>
	    </edit>
    </match>
    <match>
	    <test name="lang">
		    <string>ko</string>
	    </test>
	    <test name="family">
		    <string>serif</string>
	    </test>
	    <edit name="family" mode="prepend">
		    <string>HYMyeongJo</string>
	    </edit>
    </match>

    <!-- add chinese (simplified) specific font preference -->
    <match>
	    <test name="lang">
		    <string>zh</string>
		    <string>zh-cn</string>
		    <string>zh-hans</string>
	    </test>
	    <test name="family">
		    <string>sans-serif</string>
	    </test>
	    <edit name="family" mode="prepend">
		    <string>MYing Hei S</string>
	    </edit>
    </match>
    <match>
	    <test name="lang">
		    <string>zh</string>
		    <string>zh-cn</string>
		    <string>zh-hans</string>
	    </test>
	    <test name="family">
		    <string>serif</string>
	    </test>
	    <edit name="family" mode="prepend">
		    <string>Song S</string>
	    </edit>
    </match>
<!-- /lab126 -->

<!--
  Enable sub-pixel rendering
	<match target="font">
		<test qual="all" name="rgba">
			<const>unknown</const>
		</test>
		<edit name="rgba" mode="assign"><const>rgb</const></edit>
	</match>
-->
<!-- 
  Reject bitmap fonts
 -->

 <selectfont>
  <rejectfont>
   <pattern>
     <patelt name="scalable"><bool>false</bool></patelt>
   </pattern>
  </rejectfont>
 </selectfont>
 
<!--
  Accept bitmap fonts.  This overrides any rejectfont which matches 
  
 <selectfont>
  <acceptfont>
   <pattern>
     <patelt name="scalable"><bool>false</bool></patelt>
   </pattern>
  </acceptfont>
 </selectfont>
 -->
</fontconfig>
